[DEFAULT]
amqp_durable_queues=False
connection_type=libvirt
notification_driver=messaging
notification_topics=notifications
rpc_backend=nova.openstack.common.rpc.impl_kombu
rpc_response_timeout=300
notify_on_state_change=vm_and_task_state
notify_api_faults=False
state_path=/var/lib/nova
quota_instances=100
quota_cores=1000
quota_ram=512000
quota_floating_ips=100
quota_fixed_ips=-1
quota_metadata_items=10240
quota_injected_files=500
quota_injected_file_content_bytes=102400
quota_injected_file_path_length=4096
quota_security_groups=10
quota_security_group_rules=20
quota_key_pairs=10
reservation_expire=86400
until_refresh=0
max_age=0
quota_driver=nova.quota.DbQuotaDriver
report_interval=60
enabled_apis=ec2,osapi_compute,metadata
service_down_time=180
instance_usage_audit_period=hour
rootwrap_config=/etc/nova/rootwrap.conf
api_paste_config=/etc/nova/api-paste.ini
auth_strategy=keystone
use_forwarded_for=False
fping_path=/usr/sbin/fping
novncproxy_host={{ ansible_ssh_host }}
novncproxy_port=6080
force_config_drive=always
allow_resize_to_same_host=True
allow_migrate_to_same_host=True
instance_usage_audit=True
resume_guests_state_on_host_boot=True
block_device_allocate_retries=300
reserved_host_memory_mb=10240 
network_api_class=nova.network.neutronv2.api.API
default_floating_pool=net04_ext
linuxnet_interface_driver=nova.network.linux_net.LinuxOVSInterfaceDriver
teardown_unused_network_gateway=True
dhcp_domain=novalocal
security_group_api=neutron
debug=false
verbose=true
use_stderr=False
log_dir=/var/log/nova
scheduler_host_manager=nova.scheduler.host_manager.HostManager
scheduler_host_subset_size=30
cpu_allocation_ratio=8.0
disk_allocation_ratio=1.0
max_io_ops_per_host=8
max_instances_per_host=50
ram_allocation_ratio=1.0
scheduler_available_filters=nova.scheduler.filters.all_filters
scheduler_default_filters=RetryFilter,AvailabilityZoneFilter,RamFilter,CoreFilter,DiskFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter
scheduler_weight_classes=nova.scheduler.weights.all_weighers
scheduler_use_baremetal_filters=False
scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler
scheduler_max_attempts=3
ram_weight_multiplier=1.0
compute_driver=libvirt.LibvirtDriver
use_cow_images=True
vif_plugging_is_fatal=False
vif_plugging_timeout=300
firewall_driver=nova.virt.firewall.NoopFirewallDriver
novncproxy_base_url=http://{{ groups['bcec_vip'][0] }}:6080/vnc_auto.html
vncserver_listen=0.0.0.0
vncserver_proxyclient_address={{ ansible_ssh_host }}
volume_api_class=nova.volume.cinder.API
image_service=nova.image.glance.GlanceImageService
rpc_conn_pool_size = 64
[baremetal]
[cells]
[cinder]
catalog_info=volume:cinder:internalURL
http_timeout = 300
timeout = 300
[conductor]
[ephemeral_storage_encryption]
[glance]
api_servers={{ groups['bcec_vip'][0] }}:9292
[hyperv]
[image_file_url]
[ironic]
[keymgr]
[workarounds]
disable_libvirt_livesnapshot=false
[keystone_authtoken]
auth_host={{ groups['bcec_vip'][0] }}
auth_port=35357
auth_protocol=http
auth_uri=http://{{ groups['bcec_vip'][0] }}:5000/
admin_user=nova
admin_password={{ hostvars[groups['bcec_ctl'][0]].passwd }}
admin_tenant_name=service
signing_dir=/tmp/keystone-signing-nova
signing_dirname=/tmp/keystone-signing-nova
[libvirt]
vif_driver=nova.virt.libvirt.vif.LibvirtGenericVIFDriver
live_migration_flag=VIR_MIGRATE_UNDEFINE_SOURCE,VIR_MIGRATE_PEER2PEER,VIR_MIGRATE_LIVE,VIR_MIGRATE_PERSIST_DEST
block_migration_flag=VIR_MIGRATE_UNDEFINE_SOURCE,VIR_MIGRATE_PEER2PEER,VIR_MIGRATE_LIVE,VIR_MIGRATE_NON_SHARED_INC 
cpu_mode=host-model
disk_cachemodes="network=writeback,block=none"
iscsi_use_multipath=true
[matchmaker_redis]
[matchmaker_ring]
[metrics]
[neutron]
url=http://{{ groups['bcec_neutron'][0] }}:9696
url_timeout=30
admin_username=neutron
admin_password={{ hostvars[groups['bcec_neutron'][0]].passwd }}
admin_tenant_name=service
region_name=RegionOne
admin_auth_url=http://{{ groups['bcec_vip'][0] }}:35357/v2.0
auth_strategy=keystone
ovs_bridge=br-int
extension_sync_interval=600
allow_duplicate_networks=false
default_tenant_id=default
[osapi_v3]
enabled=False
[oslo_messaging_rabbit]
rabbit_userid={{ hostvars[groups['bcec_ctl'][0]].rabbit_userid }}
rabbit_password={{ hostvars[groups['bcec_ctl'][0]].rabbit_passwd }}
rabbit_ha_queues=True
rabbit_virtual_host=/
kombu_reconnect_delay=5.0
rabbit_use_ssl=False
rabbit_hosts={{ groups['bcec_ctl'][0] }}:5672,{{ groups['bcec_ctl'][1] }}:5672,{{ groups['bcec_ctl'][2] }}:5672
